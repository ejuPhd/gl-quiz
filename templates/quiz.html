<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question {{ question_num }} - ML Quiz</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container">
        <header class="quiz-header">
            <div class="progress-info">
                <!-- RESTORED: Question Counter -->
                <div class="question-counter">
                    <h2>Question <span class="current-number">{{ question_num }}</span> of <span class="total-number">{{
                            total_questions }}</span></h2>
                    <div class="counter-subtitle">
                        {{ question.difficulty|title }} Level • {{ question.category|replace('_', ' ')|title }}
                    </div>
                </div>

                <!-- RESTORED: Progress Bar -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress {{ progress_class }}"></div>
                    </div>
                    <div class="progress-text">
                        {{ question_num }}/{{ total_questions }} ({{ progress_percent|round|int }}%)
                    </div>
                </div>
            </div>

            <!-- Real-time counter display (Kept your logic) -->
            <div class="real-time-stats"
                style="display: flex; gap: 1.5rem; text-align: center; align-items: center; margin: 1rem 0;">
                <div class="stat">
                    <span class="stat-value" style="color: #4CAF50; font-size: 1.5rem; font-weight: bold;">{{
                        correct_count_rt }}</span>
                    <span class="stat-label" style="display: block; font-size: 0.9rem; color: #666;">✅ Correct</span>
                </div>
                <div class="stat">
                    <span class="stat-value" style="color: #f44336; font-size: 1.5rem; font-weight: bold;">{{
                        incorrect_count_rt }}</span>
                    <span class="stat-label" style="display: block; font-size: 0.9rem; color: #666;">❌ Incorrect</span>
                </div>
            </div>

            <div class="difficulty-badge {{ question.difficulty }}">
                {{ question.difficulty|title }}
            </div>
        </header>

        <main class="question-container">
            <div class="question-card">
                <div class="question-header">
                    <span class="category">{{ question.category|replace('_', ' ')|title }}</span>
                    <span class="type">{{ question.type|replace('_', ' ')|title }}</span>
                </div>

                <h3 class="question-text">{{ question.question }}</h3>

                {% if question.code_snippet %}
                <div class="code-snippet">
                    <pre><code>{{ question.code_snippet }}</code></pre>
                </div>
                {% endif %}

                <form action="{{ url_for('submit_answer') }}" method="post" class="options-form">
                    <div class="options-grid">
                        {% for option in question.options %}
                        <label class="option-card">
                            <input type="radio" name="answer" value="{{ loop.index0 }}" required>
                            <span class="option-text">{{ option }}</span>
                        </label>
                        {% endfor %}
                    </div>

                    <div class="navigation-buttons">
                        <button type="submit" class="btn primary">
                            {% if question_num == total_questions %}
                            Finish Quiz
                            {% else %}
                            Next Question →
                            {% endif %}
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>
</body>

</html>